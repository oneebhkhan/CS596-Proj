<scene version="2.0.0">

	<integrator type="path">
		<integer name="max_depth" value="10"/>
	</integrator>
	
	<sensor type="perspective">
    	<transform name="to_world">
        	<!-- Camera pointing at "earth" from slightly off-axis
        		"up" direction is positive y -->
        	<lookat origin="-3, 5, -20" target="0, 0, 0" up="0, 1, 0"/>
    	</transform>
		<sampler type="stratified">
    		<integer name="sample_count" value="16"/>
    	</sampler>
	</sensor>

	<!-- the "moon" -->
    <shape type="sphere">
    	<!-- change x and z values to move moon around earth -->
    	<point name="center" x="0" y="0" z="-5"/>
    	<float name="radius" value=".27"/>
    	<bsdf type="diffuse">
    		<rgb name="reflectance" value=".9, .9, .9"/>
    	</bsdf>
		
    	<!-- irradiance meter attached to moon requires film of 1x1 pixel -->
    	<sensor type="irradiancemeter">
    		<sampler type="stratified">
    			<integer name="sample_count" value="16"/>
    		</sampler>
    		<film type="hdrfilm">
    			<integer name="width" value="100"/>
    			<integer name="height" value="100"/>
    			<string name = "pixel_format" value="luminance"/>
    			<rfilter type="box"/>
    		</film>
    	</sensor>
	</shape>
	
	<!-- the "earth" -->
	<shape type="sphere">
    	<point name="center" x="0" y="0" z="0"/>
    	<float name="radius" value="1"/>
		<bsdf type="diffuse"/>
    </shape>
	
	<!-- the "sun" as area emitter attached to sphere -->
	
	<!-- <shape type="sphere">
    	<point name="center" x="0" y="0" z="-10"/>
    	<float name="radius" value="1"/>
    	<emitter type="area">
    		<spectrum name="radiance" value="2.0"/>
    	</emitter>
    
	</shape> -->
	
	
	<!-- the "sun" as point emitter -->
	
	<!-- <emitter type="point">
		<point name ="position" x="0" y="0" z="-10"/>
		<spectrum name="intensity" value="20.0"/>
	</emitter> -->
	
	
	<!-- the sun as directional emitter (this is what we want I think) -->
	<emitter type="directional">
		<spectrum name="irradiance" value = "1.0"/>
		<vector name="direction" value="0, 0, 1"/>
	</emitter>
		
	
</scene>